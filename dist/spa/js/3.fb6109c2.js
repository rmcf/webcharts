(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"3e66":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"text-h3 q-mt-lg text-center text-grey-8 text-weight-light"},[t._v("\n    Budget\n  ")]),a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"q-mt-md q-mb-md"},[a("q-btn-group",[a("q-btn",{attrs:{color:"red",icon:"download",label:"load"},on:{click:function(e){return t.budgetChart()}}}),a("q-btn",{attrs:{color:"red",icon:"cached",label:"update"},on:{click:function(e){return t.budgetChart()}}})],1),t.dataLoadingStatus?a("q-spinner-ios",{staticClass:"q-ml-md q-mr-md",attrs:{color:"light-blue",size:"2em"}}):t._e()],1),t.chart.chartOptions?a("div",{staticClass:"q-mb-lg"},[a("q-card",[a("q-card-section",[a("div",{staticClass:"q-pa-md"},[a("highcharts",{attrs:{options:t.chart.chartOptions}})],1)])],1)],1):t._e(),a("div",{staticClass:"q-mb-lg"},[t.chart?a("q-markup-table",[a("thead",[a("tr",t._l(t.chart.tableHeader,(function(e){return a("th",{key:e,staticClass:"text-left"},[t._v("\n              "+t._s(e)+"\n            ")])})),0)]),a("tbody",[t._l(t.chart.tableData,(function(e){return a("tr",{key:e.nid},t._l(e,(function(e,n){return a("td",{key:n,staticClass:"text-left"},[t._v("\n              "+t._s(e)+"\n            ")])})),0)})),a("tr",[a("td"),a("td"),t._l(t.chart.tableSums,(function(e){return a("td",{key:e,staticClass:"text-right"},[a("strong",[t._v(t._s(e.toFixed(2)))])])}))],2)],2)]):t._e()],1)])])},i=[],r=(a("13d5"),a("fb6a"),a("e6cf"),a("ddb0"),a("2b0e")),l=a("bc3a"),o=a.n(l),s=a("2106"),c=a.n(s),d=a("4452"),u=a("ea7f"),f=a.n(u),h=a("0319"),p=a.n(h),b=a("9955"),g=a.n(b),m=a("2ef0"),_=a.n(m);r["a"].use(c.a,o.a),r["a"].use(d["Chart"]),p()(f.a);const v=a("2ef0");r["a"].use(g.a,{name:"cloneDeep",lodash:{cloneDeep:_.a}});const C=[{title:"Financerings",caption:"Budget",icon:"euro_symbol",link:"https://quasar.dev"}];var k={name:"Budget",components:{highcharts:d["Chart"]},data(){return{leftDrawerOpen:!0,essentialLinks:C,financeringData:void 0,dataLoadingStatus:!1,chart:!1}},methods:{async budgetChart(){this.dataLoadingStatus=!0;let t=null;const e=await fetch("json/finance.json");if(e.ok){t=await e.json(),this.financeringData=t;let _=v.cloneDeep(this.financeringData);var a=_.length,n=Object.keys(_[0]).length,i=[];for(let t=0;t<n;t++){let e=0;_.forEach((function(n){let r=Object.keys(n)[t],l=n[r];""===l&&(e+=1,e==a&&i.push(r))}))}i.length>0&&_.forEach((function(t){i.forEach((function(e){delete t[e]}))}));var r=v.cloneDeep(_);r.forEach((function(t){let e="field_fin_color";delete t[e]}));var l=[];r.forEach((function(t){Object.entries(t).forEach((([t,e])=>{var a="";if(a=t,"nid"===a)l.includes("ID")||l.push("ID");else if("field_proj_financiering"===a)l.includes("Financiering")||l.push("Financiering");else if("field_fin_color"!==a){let t=a.slice(-4);l.includes(t)||l.push(t)}}))}));var o={title:{text:"Budget chart"},xAxis:{categories:[]},yAxis:{min:0,title:{text:"Total budget"},stackLabels:{enabled:!1,style:{fontWeight:"bold",color:f.a.defaultOptions.title.style&&f.a.defaultOptions.title.style.color||"gray"}}},legend:{layout:"vertical",align:"right",verticalAlign:"middle",backgroundColor:f.a.defaultOptions.legend.backgroundColor||"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[]},s=[];for(let t of Object.keys(_[0]))if("nid"!==t&&"field_proj_financiering"!==t&&"field_fin_color"!==t){let e=t.slice(-4);s.push(e)}o.xAxis.categories=s;var c=[];_.forEach((function(t){var e={},a=[],n="";for(let[i,r]of Object.entries(t))"nid"!==i&&"field_proj_financiering"!==i&&"field_fin_color"!==i&&a.push(parseFloat(r)),"field_proj_financiering"===i&&(n=r),e.name=n,e.data=a,e.type="column";e.color=t.field_fin_color,c.push(e)})),o.series=c;var d={type:"spline",name:"Total",data:[],color:"#03a9f4",marker:{lineWidth:2,lineColor:"#03a9f4",fillColor:"white"}},u=function(t){var e=0;for(let a of Object.keys(t))a&&(e+=1);return e},h=u(_[0]),p=[];for(let t=3;t<h;t++){var b=[],g=0;_.forEach((function(e){var a=0;if(Object.values(e)[t]){let n=Object.values(e)[t];a=""===n?0:parseFloat(Object.values(e)[t]),b.push(a)}})),g=b.reduce((function(t,e){return t+e}),0),p.push(g)}d.data=p,c.push(d);var m={};m.tableHeader=l,m.tableData=r,m.tableSums=p,m.chartOptions=o,this.chart=m}else alert("Error HTTP: "+e.status);this.dataLoadingStatus=!1}},computed:{}},y=k,O=a("2877"),j=a("e7a9"),q=a("9c40"),x=a("d9b2"),w=a("f09f"),D=a("a370"),E=a("2bb1"),F=a("eebe"),S=a.n(F),L=Object(O["a"])(y,n,i,!1,null,null,null);e["default"]=L.exports;S()(L,"components",{QBtnGroup:j["a"],QBtn:q["a"],QSpinnerIos:x["a"],QCard:w["a"],QCardSection:D["a"],QMarkupTable:E["a"]})}}]);