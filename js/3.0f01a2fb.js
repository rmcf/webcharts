(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"713b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh Lpr lff"}},[a("q-header",{attrs:{elevated:""}},[a("q-toolbar",{staticClass:"bg-white text-grey-8"},[a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"}}),a("q-toolbar-title",[t._v("\n        PoA Charts\n      ")]),a("div",[a("q-btn",{attrs:{type:"a",href:"https://github.com/rmcf/webcharts",flat:"",round:"",dense:"",icon:"settings"}})],1)],1)],1),a("q-drawer",{attrs:{bordered:"","content-class":"bg-grey-1 q-pt-lg"},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-list",[a("q-item-label",{staticClass:"text-grey-8",attrs:{header:""}},[t._v("\n        Available datasets\n      ")]),t._l(t.essentialLinks,(function(e){return a("EssentialLink",t._b({key:e.title},"EssentialLink",e,!1))}))],2)],1),a("q-page-container",[a("div",{staticClass:"text-h4 q-mt-lg text-center text-grey-8"},[t._v("\n      Budget\n    ")]),a("div",{staticClass:"q-pa-lg"},[a("div",{staticClass:"q-mb-md"},[a("q-btn",{attrs:{icon:"download",color:"red",label:"load data"},on:{click:function(e){return t.financeringGetData()}}}),t.dataLoadingStatus?a("q-spinner-ios",{staticClass:"q-ml-md q-mr-md",attrs:{color:"light-blue",size:"2em"}}):t._e()],1),t.financeringComputed.chartOptions?a("div",{staticClass:"q-mb-lg"},[a("q-card",[a("q-card-section",[a("div",{staticClass:"q-pa-md"},[a("highcharts",{attrs:{options:t.financeringComputed.chartOptions}})],1)])],1)],1):t._e(),a("div",{staticClass:"q-mb-lg"},[t.financeringData?a("q-markup-table",[a("thead",[a("tr",t._l(t.financeringComputed.tableHeader,(function(e){return a("th",{key:e,staticClass:"text-left"},[t._v("\n                "+t._s(e)+"\n              ")])})),0)]),a("tbody",[t._l(t.financeringComputed.tableData,(function(e){return a("tr",{key:e.nid},t._l(e,(function(e,n){return a("td",{key:n,staticClass:"text-left"},[t._v("\n                "+t._s(e)+"\n              ")])})),0)})),a("tr",[a("td"),a("td"),t._l(t.financeringComputed.tableSums,(function(e){return a("td",{key:e,staticClass:"text-right"},[a("strong",[t._v(t._s(e.toFixed(2)))])])}))],2)],2)]):t._e()],1)])])],1)},i=[],r=(a("13d5"),a("fb6a"),a("e6cf"),a("a79d"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-item",{attrs:{clickable:"",tag:"a",target:"_blank",href:t.link}},[t.icon?a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1):t._e(),a("q-item-section",[a("q-item-label",[t._v(t._s(t.title))]),a("q-item-label",{attrs:{caption:""}},[t._v("\n      "+t._s(t.caption)+"\n    ")])],1)],1)}),o=[],l={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}},s=l,c=a("2877"),d=a("66e5"),u=a("4074"),f=a("0016"),p=a("0170"),b=a("eebe"),g=a.n(b),h=Object(c["a"])(s,r,o,!1,null,null,null),m=h.exports;g()(h,"components",{QItem:d["a"],QItemSection:u["a"],QIcon:f["a"],QItemLabel:p["a"]});var v=a("2b0e"),_=a("bc3a"),y=a.n(_),q=a("2106"),C=a.n(q),k=a("4452"),O=a("ea7f"),w=a.n(O),x=a("0319"),L=a.n(x),D=a("9955"),j=a.n(D),Q=a("2ef0"),E=a.n(Q);v["a"].use(C.a,y.a),v["a"].use(k["Chart"]),L()(w.a);const A=a("2ef0");v["a"].use(j.a,{name:"cloneDeep",lodash:{cloneDeep:E.a}});const S=[{title:"Financerings",caption:"Budget",icon:"euro_symbol",link:"https://quasar.dev"}];var I={name:"MainLayout",components:{EssentialLink:m,highcharts:k["Chart"]},data(){return{leftDrawerOpen:!0,essentialLinks:S,financeringData:void 0,dataLoadingStatus:!1}},methods:{financeringGetData(){this.dataLoadingStatus=!0;const t="json/finance.json";setTimeout((()=>{y.a.get(t).then((t=>this.financeringData=t.data)).catch((t=>console.log(t))).finally((()=>this.dataLoadingStatus=!1))}),1e3)}},computed:{financeringComputed:function(){const t=[{name:"PoA: Port of Antwerp",id:"50",color:"#ff0000"},{name:"VLAIO: VLAIO",id:"51",color:"#f39200"},{name:"BOF: UAntwerpen",id:"52",color:"#6c223c"},{name:"PWO: UAntwerpen",id:"53",color:"#454d6b"},{name:"IOF: UAntwerpen",id:"54",color:"#83d0f5"}];var e=A.cloneDeep(this.financeringData);if(e){var a=e.length,n=Object.keys(e[0]).length,i=[];for(let t=0;t<n;t++){var r=0;e.forEach((function(e){let n=Object.keys(e)[t],o=e[n];""===o&&(r+=1,r==a&&i.push(n))}))}i.length>0&&e.forEach((function(t){i.forEach((function(e){delete t[e]}))}));var o=[];e.forEach((function(t){Object.entries(t).forEach((([t,e])=>{var a="";if(a=t,"nid"===a)o.includes("ID")||o.push("ID");else if("field_proj_financiering"===a)o.includes("Financiering")||o.push("Financiering");else{let t=a.slice(-4);o.includes(t)||o.push(t)}}))}));var l={title:{text:"Budget chart"},xAxis:{categories:[]},yAxis:{min:0,title:{text:"Total budget"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:w.a.defaultOptions.title.style&&w.a.defaultOptions.title.style.color||"gray"}}},legend:{layout:"vertical",align:"right",verticalAlign:"middle",backgroundColor:w.a.defaultOptions.legend.backgroundColor||"white",borderColor:"#CCC",borderWidth:1,shadow:!1},tooltip:{headerFormat:"<b>{point.x}</b><br/>",pointFormat:"{series.name}: {point.y}"},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!1}}},series:[]},s=[];for(let t of Object.keys(e[0]))if("nid"!==t&&"field_proj_financiering"!==t){let e=t.slice(-4);s.push(e)}l.xAxis.categories=s;var c=[];e.forEach((function(e){var a={},n=[],i="";for(let[t,r]of Object.entries(e))"nid"!==t&&"field_proj_financiering"!==t&&n.push(parseFloat(r)),"field_proj_financiering"===t&&(i=r),a.name=i,a.data=n,a.type="column";t.forEach((function(t){t.id===e.nid&&(a.color=t.color)})),c.push(a)})),l.series=c;var d={type:"spline",name:"Total",data:[],color:"#03a9f4",marker:{lineWidth:2,lineColor:"#03a9f4",fillColor:"white"}},u=function(t){var e=0;for(let a of Object.keys(t))a&&(e+=1);return e},f=u(e[0]),p=[];for(let t=2;t<f;t++){var b=[],g=0;e.forEach((function(e){var a=0;if(Object.values(e)[t]){let n=Object.values(e)[t];a=""===n?0:parseFloat(Object.values(e)[t]),b.push(a)}})),g=b.reduce((function(t,e){return t+e}),0),p.push(g)}d.data=p,c.push(d)}var h={};return h.tableHeader=o,h.tableData=e,h.tableSums=p,h.chartOptions=l,h}}},F=I,T=a("4d5a"),B=a("e359"),P=a("65c6"),H=a("9c40"),W=a("6ac5"),M=a("9404"),U=a("1c1c"),G=a("09e3"),J=a("d9b2"),V=a("f09f"),$=a("a370"),z=a("2bb1"),K=Object(c["a"])(F,n,i,!1,null,null,null);e["default"]=K.exports;g()(K,"components",{QLayout:T["a"],QHeader:B["a"],QToolbar:P["a"],QBtn:H["a"],QToolbarTitle:W["a"],QDrawer:M["a"],QList:U["a"],QItemLabel:p["a"],QPageContainer:G["a"],QSpinnerIos:J["a"],QCard:V["a"],QCardSection:$["a"],QMarkupTable:z["a"]})}}]);